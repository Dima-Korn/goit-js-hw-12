import{a as I,S as g,i as y}from"./assets/vendor-6e0bf343.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(o){if(o.ep)return;o.ep=!0;const t=a(o);fetch(o.href,t)}})();async function h(r,e){const a="43227181-d0d7712551e06c0c43f074b98",o="https://pixabay.com/api/";try{const t=await I.get(o,{params:{key:a,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:15}});if(t.status!==200)throw new Error("Failed to fetch images");return!t.data.hits||t.data.hits.length===0?{data:[],error:"No images found"}:{data:t.data,error:null}}catch(t){return{data:[],error:t.message}}}const S=new g(".gallery a",{captionDelay:250,captionsData:"alt"});function q(r){return r.map(({webformatURL:e,largeImageURL:a,tags:s,likes:o,views:t,comments:l,downloads:L,id:x})=>`<li class="gallery-item">
          <a href="${a}" id="image-${x}">
              <img src="${e}" alt="${s}" width="360">
          </a>
          <div class="image-specs">
              <div class="specs-box"><p>Likes</p><p>${o}</p></div>
              <div class="specs-box"><p>Views</p><p>${t}</p></div>
              <div class="specs-box"><p>Comments</p><p>${l}</p></div>
              <div class="specs-box"><p>Downloads</p><p>${L}</p></div>
          </div>
      </li>`).join("")}function b(r){const e=document.querySelector(".gallery"),a=q(r);e.insertAdjacentHTML("beforeend",a),S.refresh()}const n=document.querySelector(".load-more-btn"),p=document.getElementById("search-form"),u=document.getElementById("search-input"),f=document.querySelector(".search-btn"),d=document.querySelector(".loader"),m=document.querySelector(".gallery"),E=15;let i=1,c="";const $=new g(".gallery a",{captionDelay:250,captionsData:"alt"});document.addEventListener("DOMContentLoaded",()=>{n&&n.addEventListener("click",P),p&&p.addEventListener("submit",M)});async function M(r){if(r.preventDefault(),f.disabled=!0,v(),B(),n.style.display="none",c=u.value.trim(),c!==""){i=1;try{const e=await h(c,i);i*E>=e.totalHits&&console.log("last"),u.value="",!e||!e.data.hits||e.data.hits.length===0?y.info({title:"Information",message:"Вибачте, за вашим запитом не знайдено зображень. Будь ласка, спробуйте ще раз!",position:"topRight",backgroundColor:"red",maxWidth:"500px"}):(b(e.data.hits),$.refresh())}catch(e){console.error("Помилка під час отримання зображень:",e)}finally{f.disabled=!1,w(),n.style.display="block"}}}async function P(){i+=1,v();try{const r=await h(c,i);b(r.data.hits);const e=r.totalHits;i*15>=e?n.style.display="none":n.style.display="block";const a=document.querySelector(".gallery-item");if(a){const s=a.getBoundingClientRect().height;window.scrollBy({left:0,top:s*2,behavior:"smooth"})}(r.data.hits.length===0||e>0&&i>=Math.ceil(e/15))&&(n.style.display="none",y.info({title:"Information",message:"Вибачте, але ви досягли кінця результатів пошуку.",position:"topRight",backgroundColor:"red",maxWidth:"500px"}))}catch(r){console.error("Error fetching images:",r),alert(r.message)}finally{w()}}function v(){d&&(d.style.display="block")}function w(){d&&(d.style.display="none")}function B(){m&&(m.innerHTML="")}
//# sourceMappingURL=commonHelpers.js.map
