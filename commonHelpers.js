import{a as L,S as f,i as g}from"./assets/vendor-6e0bf343.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}})();async function y(o,e){const r="43227181-d0d7712551e06c0c43f074b98",t="https://pixabay.com/api/";try{return{data:(await L.get(t,{params:{key:r,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:15}})).data,error:null}}catch(a){return{data:[],error:a.message}}}function h(){document.querySelector(".loader").style.display="block"}function b(){document.querySelector(".loader").style.display="none"}const I=new f(".gallery a",{captionDelay:250,captionsData:"alt"}),p=document.querySelector(".gallery");function S(o){return o.map(({webformatURL:e,largeImageURL:r,tags:s,likes:t,views:a,comments:l,downloads:w,id:x})=>`<li class="gallery-item">
          <a href="${r}" id="image-${x}">
              <img src="${e}" alt="${s}" width="360">
          </a>
          <div class="image-specs">
              <div class="specs-box"><p>Likes</p><p>${t}</p></div>
              <div class="specs-box"><p>Views</p><p>${a}</p></div>
              <div class="specs-box"><p>Comments</p><p>${l}</p></div>
              <div class="specs-box"><p>Downloads</p><p>${w}</p></div>
          </div>
      </li>`).join("")}function v(o){const e=S(o);p.insertAdjacentHTML("beforeend",e),I.refresh()}function q(){p&&(p.innerHTML="")}const i=document.querySelector(".load-more-btn"),$=document.getElementById("search-form"),u=document.getElementById("search-input"),m=document.querySelector(".search-btn");$.addEventListener("submit",B);i.addEventListener("click",E);const c=15;let n=1,d="";const P=new f(".gallery a",{captionDelay:250,captionsData:"alt"});async function B(o){if(o.preventDefault(),m.disabled=!0,h(),q(),i.style.display="none",d=u.value.trim(),d!==""){n=1;try{const e=await y(d,n);u.value="",!e||!e.data||!e.data.hits||e.data.hits.length===0||e.totalHits===0?g.info({title:"Information",message:"Вибачте, за вашим запитом не знайдено зображень. Будь ласка, спробуйте ще раз!",position:"topRight",backgroundColor:"red",maxWidth:"500px"}):(v(e.data.hits),P.refresh(),e.data.hits.length<c?i.style.display="none":i.style.display="block")}catch(e){console.error("Помилка під час отримання зображень:",e)}finally{m.disabled=!1,b()}}}async function E(){n+=1,h();try{const o=await y(d,n);v(o.data.hits);const e=o.data.totalHits;(n*c>=e||o.data.hits.length<c)&&(i.style.display="none");const r=document.querySelector(".gallery-item");if(r){const s=r.getBoundingClientRect().height;window.scrollBy({left:0,top:s*2,behavior:"smooth"})}(o.data.hits.length===0||o.data.hits.length<c&&n>1)&&(i.style.display="none",g.info({title:"Information",message:"Вибачте, але ви досягли кінця результатів пошуку.",position:"topRight",backgroundColor:"red",maxWidth:"500px"}))}catch(o){console.error("Error fetching images:",o),alert(o.message)}finally{b()}}
//# sourceMappingURL=commonHelpers.js.map
